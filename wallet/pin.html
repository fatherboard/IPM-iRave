<!DOCTYPE HTML>
<html lang="pt">
	<head>
		<title>iRave</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="../style.css">
		<script src="../scripts/funcs.js"></script>
		<script src="../scripts/time.js"></script>
		<script src="../scripts/money.js"></script>
		<!-- TIME IS MONEY -->
		<script>			
			function checkPinAndProceed(toHere){
				var ok = checkEnteredPin();
	
				resetEnteredPin();
				if(ok)
					goToThis(toHere);
				else{
					printPinChars();
					changeBgColor("red");
					intId = setInterval(function(){
													changeBgColor("transparent");
													clearInterval(intId);
													},
													1000);
				}
			}
			
			function initialize(){
				clockRoutine();
				document.getElementById("ok").onclick = function(){checkPinAndProceed('completion_screen.html?balance=' + balance)};
			}
		</script>
		<style>
		        #pin_space {
			border:1px solid black;
			width:4em;
			margin-left:auto;
			margin-right:auto;
			border-radius:0.3em;
		        }
		</style>
	</head>
	<body>
		<div style="float: right" id="clock"></div>
		Introduza o seu PIN
		<div id="pin_space" style="text-align: center">&nbsp;</div>
		<table id="pin" border="0" style="border-spacing: 0px">
			<tr>
				<td>
					<button class="numerical" onclick="addToEnteredPin(1)">
						1
					</button>
				</td>
				<td>
					<button class="numerical" onclick="addToEnteredPin(2)">
						2
					</button>
				</td>
				<td>
					<button class="numerical" onclick="addToEnteredPin(3)">
						3
					</button>
				</td>
				<td>
					<button id="cancel" onclick="goToThis('wallet.html')"> <!-- ou sensor-ok.html ?? -->
						Cancel.
					</button>
				</td>
			</tr>
			<tr>
				<td>
					<button class="numerical" onclick="addToEnteredPin(4)">
						4
					</button>
				</td>
				<td>
					<button class="numerical" onclick="addToEnteredPin(5)">
						5
					</button>
				</td>
				<td>
					<button class="numerical" onclick="addToEnteredPin(6)">
						6
					</button>
				</td>
				<td>
					<button onclick="resetEnteredPin()">
						Corrig.
					</button>
				</td>
			</tr>
			<tr>
				<td>
					<button class="numerical" onclick="addToEnteredPin(7)">
						7
					</button>
				</td>
				<td>
					<button class="numerical" onclick="addToEnteredPin(8)">
						8
					</button>
				</td>
				<td>
					<button class="numerical" onclick="addToEnteredPin(9)">
						9
					</button>
				</td>
				<td>
					<button class="numerical" onclick="addToEnteredPin(9)">
						0
					</button>
				</td>
				<td>
					<button id="ok">
						OK
					</button>
				</td>
			</tr>
		</table>
		<script>
			initialize();
		</script>
	</body>
</html>
